<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Android (Unity exported): UnityPlayerActivity.java Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Android (Unity exported)
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('db/dc5/_unity_player_activity_8java_source.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">UnityPlayerActivity.java</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../db/dc5/_unity_player_activity_8java.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">package </span>com.unity3d.player;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">import</span> android.app.Activity;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">import</span> android.app.admin.DevicePolicyManager;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">import</span> android.bluetooth.BluetoothAdapter;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">import</span> android.bluetooth.BluetoothDevice;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">import</span> android.content.BroadcastReceiver;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">import</span> android.content.ComponentName;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">import</span> android.content.Context;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">import</span> android.content.Intent;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">import</span> android.content.IntentFilter;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">import</span> android.content.res.Configuration;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">import</span> android.media.AudioManager;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">import</span> android.media.MediaPlayer;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">import</span> android.os.Bundle;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">import</span> android.os.Handler;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">import</span> android.speech.tts.TextToSpeech;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">import</span> android.speech.tts.UtteranceProgressListener;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">import</span> android.util.Log;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">import</span> android.view.KeyEvent;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">import</span> android.view.MotionEvent;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">import</span> android.view.Window;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">import</span> android.widget.Toast;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">import</span> org.jetbrains.annotations.Nullable;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">import</span> java.util.HashMap;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">import</span> java.util.Locale;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">import</span> java.util.Set;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">import</span> java.util.UUID;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html">   42</a></span>&#160;<span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html">UnityPlayerActivity</a> <span class="keyword">extends</span> Activity {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a1c5528d35abc854e3ea61c04f3187af2">   50</a></span>&#160;    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keywordtype">boolean</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a1c5528d35abc854e3ea61c04f3187af2">TESTING</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aa6939b848cf96ad7e7017024c9321907">   60</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">final</span> UUID <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aa6939b848cf96ad7e7017024c9321907">MY_UUID</a> = UUID.fromString(<span class="stringliteral">&quot;00001101-0000-1000-8000-00805F9B34FB&quot;</span>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aee725bb7903693e910af2267bef831fe">   66</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">static</span> <a class="code" href="../../d3/d09/classcom_1_1unity3d_1_1player_1_1_my_bluetooth_service.html">MyBluetoothService</a> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aee725bb7903693e910af2267bef831fe">myBluetoothService</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a287823c6f1d8b135a8b5cbc04fd3a083">   71</a></span>&#160;    <span class="keyword">private</span> <span class="keyword">static</span> String <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a287823c6f1d8b135a8b5cbc04fd3a083">TAG</a> = <span class="stringliteral">&quot;DEBUG_UNITY_PLAYER&quot;</span>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7f0eb104c88cad225a0a0f44fda7ffd6">   73</a></span>&#160;    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keywordtype">int</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a40f9b69621939c0eeeefb08763aa86de">HAPPY</a> = 0, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7f6bc11f0bf8da24213a0435c0f0d299">SAD</a> = 1, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7f0eb104c88cad225a0a0f44fda7ffd6">SURPRISED</a> = 2, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a230a240b157247e591937b676576d316">ANGRY</a> = 3, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a77b935d23f82d4926fb72da89754af96">IDLE</a> = 4;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a330876a206f28ea4b88f1ad528f7779c">   81</a></span>&#160;    <span class="keyword">private</span> <span class="keyword">final</span> BroadcastReceiver <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a330876a206f28ea4b88f1ad528f7779c">mBTStateBroadcastReceiver</a> = <span class="keyword">new</span> BroadcastReceiver() {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        @Override</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keyword">public</span> <span class="keywordtype">void</span> onReceive(Context context, Intent intent) {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="comment">// Lets us know through Toast messages if BT status changes //</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <span class="keyword">final</span> String action = intent.getAction();</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="keywordflow">if</span> (action.equals(BluetoothAdapter.ACTION_STATE_CHANGED)) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                <span class="keyword">final</span> <span class="keywordtype">int</span> state = intent.getIntExtra(BluetoothAdapter.EXTRA_STATE, BluetoothAdapter.ERROR);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                <span class="keywordflow">switch</span> (state) {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                    <span class="keywordflow">case</span> BluetoothAdapter.STATE_OFF:</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                        Toast.makeText(context, R.string.BT_STATE_OFF_TEXT, Toast.LENGTH_SHORT).show();</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                    <span class="keywordflow">case</span> BluetoothAdapter.STATE_TURNING_OFF:</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                        Toast.makeText(context, R.string.BT_STATE_TURNING_OFF_TEXT, Toast.LENGTH_SHORT).show();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                    <span class="keywordflow">case</span> BluetoothAdapter.STATE_ON:</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                        Toast.makeText(context, R.string.BT_STATE_ON_TEXT, Toast.LENGTH_SHORT).show();</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                    <span class="keywordflow">case</span> BluetoothAdapter.STATE_TURNING_ON:</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                        Toast.makeText(context, R.string.BT_STATE_TURNING_ON_TEXT, Toast.LENGTH_SHORT).show();</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    };</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a3ed23ff81ec15adc2f33698fd853d6e2">  111</a></span>&#160;    <span class="keyword">protected</span> UnityPlayer <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a3ed23ff81ec15adc2f33698fd853d6e2">mUnityPlayer</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a99168c4df110f48d9c9c5bc3994514ac">  117</a></span>&#160;    MediaPlayer <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a99168c4df110f48d9c9c5bc3994514ac">voiceYourEmotion</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a93ed58eff04a6adf674377330eaf17be">  122</a></span>&#160;    <span class="keyword">private</span> String <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a93ed58eff04a6adf674377330eaf17be">MAC_ADDRESS</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#afd7dbfbfcd3717fb638af797ef5597bc">  185</a></span>&#160;    <span class="keyword">private</span> String <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a5a0f87155d60987c110dedfa52e09fb9">mainCameraObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a964827eba907ae967a2a0c6987fd0a85">eyebrowsObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0b765692527229f87cea82328946886a">mouthObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#afd7dbfbfcd3717fb638af797ef5597bc">tearObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a4ab3905a4405844b85745da151d5d7f4">ouchZoneObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a27bbdfccaee8804415d9e4a0c9071097">eyelidsObject</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a4a78fb8a8c7130abd1ae5ba3955115cf">  186</a></span>&#160;    <span class="keyword">private</span> String <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ab10c47d821fa01216fd6d7079258eacb">changeBackgroundColorFunction</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a8e888d402f82fbb559167d205e7f49a4">setEmotionFunction</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a4a78fb8a8c7130abd1ae5ba3955115cf">setSpeakingFunction</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a19a2f0534f23f7bc4e0d1650a03f45a7">setEyePokeEnabledStateFunction</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ab4a2c10dcdeeb594a91175861060e515">goToSleepFunction</a>;</div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a2ac8e8483e533db8bb058b5df1308131">  187</a></span>&#160;    <span class="keyword">private</span> String <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7b4d85e6e3790c42a15fc014752f9b6e">startSpeaking</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a2ac8e8483e533db8bb058b5df1308131">stopSpeaking</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a489722a0525ae39de603e29cf96af810">  188</a></span>&#160;    <span class="keyword">private</span> String <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a489722a0525ae39de603e29cf96af810">trueString</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a6deebdaf2c855dc80645925d33d2297f">falseString</a>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#affbc9a646a9cc689be9245957b393dfc">  196</a></span>&#160;    <span class="keyword">private</span> TextToSpeech <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#affbc9a646a9cc689be9245957b393dfc">textToSpeech</a>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a344435cf9e12a0dd394cfe2f4dc0cf7c">  202</a></span>&#160;    <span class="keyword">private</span> BluetoothAdapter <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a344435cf9e12a0dd394cfe2f4dc0cf7c">bluetoothAdapter</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a55410ee715b12a7cc28521741fbf3877">  207</a></span>&#160;    <span class="keyword">private</span> <span class="keywordtype">int</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a55410ee715b12a7cc28521741fbf3877">REQUEST_ENABLE_BT</a> = 1;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a770c710f5afbaac3c07ccb1ebd533774">  213</a></span>&#160;    <span class="keyword">private</span> AudioManager <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a770c710f5afbaac3c07ccb1ebd533774">audioManager</a>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7bdcabc988cf22272bbdfa5b38d928d4">  219</a></span>&#160;    <span class="keyword">private</span> <span class="keywordtype">int</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7bdcabc988cf22272bbdfa5b38d928d4">savedVolume</a>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#acc096e5038ce1c3b4fafe35f01f8be56">  226</a></span>&#160;    <span class="keyword">private</span> DevicePolicyManager <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#acc096e5038ce1c3b4fafe35f01f8be56">mDevicePolicyManager</a>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aab186d78a3876729c6a9059ceb37c0a2">  231</a></span>&#160;    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keywordtype">int</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aab186d78a3876729c6a9059ceb37c0a2">ADMIN_INTENT</a> = 15;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a5267e8b042ddf7b3bfe825aabd029e42">  236</a></span>&#160;    <span class="keyword">private</span> ComponentName <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a5267e8b042ddf7b3bfe825aabd029e42">mComponentName</a>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a5983ed25682f0442f85374d058e17c91">  241</a></span>&#160;    <span class="keyword">final</span> Handler <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a5983ed25682f0442f85374d058e17c91">handler</a> = <span class="keyword">new</span> Handler();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    @Override</div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7699c410099a789507c71d8b0613257b">  249</a></span>&#160;    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7699c410099a789507c71d8b0613257b">onCreate</a>(Bundle savedInstanceState) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="comment">// Make this activity, full screen //</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        requestWindowFeature(Window.FEATURE_NO_TITLE);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="comment">// By calling super.onCreate(savedInstanceState);, you tell the Dalvik VM (an android virtual machine optimized for mobile devices) to run your code in addition to the existing code in the onCreate() of the parent class. If you leave out this line, then only your code is run. The existing code is ignored completely. //</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        super.onCreate(savedInstanceState);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="comment">// This bit of code preserves the state of the app. Switching focus back to this app from another app will not lead to a long load time. //</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        String cmdLine = <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0eacc77cf5b98db5eddf19e7d1d8cf97">updateUnityCommandLineArguments</a>(getIntent().getStringExtra(<span class="stringliteral">&quot;unity&quot;</span>));</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        getIntent().putExtra(<span class="stringliteral">&quot;unity&quot;</span>, cmdLine);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="comment">// Constructor for UnityPlayer View object //</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a3ed23ff81ec15adc2f33698fd853d6e2">mUnityPlayer</a> = <span class="keyword">new</span> UnityPlayer(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="comment">// the Activity class takes care of creating a window for you in which you can place your UI with setContentView(View) //</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        setContentView(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a3ed23ff81ec15adc2f33698fd853d6e2">mUnityPlayer</a>);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="comment">// Call this to try to give focus to a specific view //</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a3ed23ff81ec15adc2f33698fd853d6e2">mUnityPlayer</a>.requestFocus();</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a770c710f5afbaac3c07ccb1ebd533774">audioManager</a> = (AudioManager) getSystemService(Context.AUDIO_SERVICE);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="comment">// Save volume //</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7bdcabc988cf22272bbdfa5b38d928d4">savedVolume</a> = <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a770c710f5afbaac3c07ccb1ebd533774">audioManager</a>.getStreamVolume(AudioManager.STREAM_MUSIC);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="comment">// Set volume to max //</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a770c710f5afbaac3c07ccb1ebd533774">audioManager</a>.setStreamVolume(AudioManager.STREAM_MUSIC, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a770c710f5afbaac3c07ccb1ebd533774">audioManager</a>.getStreamMaxVolume(AudioManager.STREAM_MUSIC), 0);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="comment">// String code //</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a5a0f87155d60987c110dedfa52e09fb9">mainCameraObject</a> = getString(R.string.MAIN_CAMERA_OBJECT);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a964827eba907ae967a2a0c6987fd0a85">eyebrowsObject</a> = getString(R.string.EYEBROWS_OBJECT);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0b765692527229f87cea82328946886a">mouthObject</a> = getString(R.string.MOUTH_OBJECT);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#afd7dbfbfcd3717fb638af797ef5597bc">tearObject</a> = getString(R.string.TEAR_OBJECT);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a4ab3905a4405844b85745da151d5d7f4">ouchZoneObject</a> = getString(R.string.OUCH_ZONE);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a27bbdfccaee8804415d9e4a0c9071097">eyelidsObject</a> = getString(R.string.EYELIDS_OBJECT);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ab10c47d821fa01216fd6d7079258eacb">changeBackgroundColorFunction</a> = getString(R.string.CHANGE_BACKGROUND_COLOR_FUNCTION);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a8e888d402f82fbb559167d205e7f49a4">setEmotionFunction</a> = getString(R.string.SET_EMOTION_FUNCTION);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a4a78fb8a8c7130abd1ae5ba3955115cf">setSpeakingFunction</a> = getString(R.string.SET_SPEAKING_FUNCTION);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a19a2f0534f23f7bc4e0d1650a03f45a7">setEyePokeEnabledStateFunction</a> = getString(R.string.SET_EYE_POKE_ENABLED_STATE_FUNCTION);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ab4a2c10dcdeeb594a91175861060e515">goToSleepFunction</a> = getString(R.string.GO_TO_SLEEP_FUNCTION);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7b4d85e6e3790c42a15fc014752f9b6e">startSpeaking</a> = getString(R.string.START_SPEAKING);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a2ac8e8483e533db8bb058b5df1308131">stopSpeaking</a> = getString(R.string.STOP_SPEAKING);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a489722a0525ae39de603e29cf96af810">trueString</a> = getString(R.string.TRUE);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a6deebdaf2c855dc80645925d33d2297f">falseString</a> = getString(R.string.FALSE);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="comment">//Bluetooth code //</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a1c5528d35abc854e3ea61c04f3187af2">TESTING</a>)</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a93ed58eff04a6adf674377330eaf17be">MAC_ADDRESS</a> = getString(R.string.TESTING_MAC_ADDRESS_1); <span class="comment">// MAC_ADDRESS IN USE - EASIER TO CHANGE HERE THAN ALL OVER THE PLACE //</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a93ed58eff04a6adf674377330eaf17be">MAC_ADDRESS</a> = getString(R.string.MAC_ADDRESS); <span class="comment">// MAC_ADDRESS IN USE - EASIER TO CHANGE HERE THAN ALL OVER THE PLACE //</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aee725bb7903693e910af2267bef831fe">myBluetoothService</a> = <span class="keyword">new</span> <a class="code" href="../../d3/d09/classcom_1_1unity3d_1_1player_1_1_my_bluetooth_service.html">MyBluetoothService</a>(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html">UnityPlayerActivity</a>.this) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            @Override</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <span class="keyword">public</span> <span class="keywordtype">void</span> showToast(<span class="keywordtype">int</span> resourceID) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <span class="comment">// Will receive a resourceID, convert it into a String, and send it to showToastMethod() //</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#abd5e7ec399337eddf77a6b6d6ebfd09e">showToastMethod</a>(getString(resourceID));</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            @Override</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="keyword">public</span> <span class="keywordtype">void</span> messageProcessorFunction(String[] messagePieces) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                <span class="comment">// Will receive String array, and call the appropriate method for execution //</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                Log.d(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a287823c6f1d8b135a8b5cbc04fd3a083">TAG</a>, messagePieces[0]);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                <span class="keywordflow">switch</span> (messagePieces[0].trim()) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                    <span class="keywordflow">case</span> <span class="stringliteral">&quot;E&quot;</span>:</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a13d989633ede695af047209a4fcf025b">setEmotion</a>(messagePieces[1]);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                    <span class="keywordflow">case</span> <span class="stringliteral">&quot;G&quot;</span>:</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a2db61aa9ce6a4554164806ed3a4c7830">speakOut</a>(messagePieces);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                    <span class="keywordflow">case</span> <span class="stringliteral">&quot;C&quot;</span>:</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aacd89df66980b8a922259b25d5d90c64">settingsUpdate</a>(messagePieces);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        };</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="comment">// Get a handle/reference to the default local Bluetooth adapter of the device being used //</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a344435cf9e12a0dd394cfe2f4dc0cf7c">bluetoothAdapter</a> = BluetoothAdapter.getDefaultAdapter();</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a344435cf9e12a0dd394cfe2f4dc0cf7c">bluetoothAdapter</a> == <span class="keyword">null</span>)</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            Toast.makeText(<span class="keyword">this</span>, <span class="stringliteral">&quot;Your device does not support Bluetooth&quot;</span>, Toast.LENGTH_LONG).show();</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a344435cf9e12a0dd394cfe2f4dc0cf7c">bluetoothAdapter</a>.isEnabled()) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                <span class="comment">// Creating an Intent //</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                Intent enableBtIntent = <span class="keyword">new</span> Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                <span class="comment">// A dialog appears requesting user permission to enable Bluetooth. //</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                <span class="comment">// If the user responds &quot;Yes&quot;, the system begins to enable Bluetooth //</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                <span class="comment">// Focus returns to your application once the process completes (or fails) //</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                <span class="comment">// onActivityResult() that gets called upon return of focus //</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                startActivityForResult(enableBtIntent, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a55410ee715b12a7cc28521741fbf3877">REQUEST_ENABLE_BT</a>);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a2a5497887597dfb529469102e8540d56">beginConnection</a>();</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="comment">// Informs us when BT condition changes //</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <span class="comment">// Registers a BroadcastReceiver to be run in the main activity thread. //</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <span class="comment">// The receiver will be called with any broadcast Intent that matches filter //</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            <span class="comment">// The Broadcast Receiver implementation is outside onCreate() //</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            registerReceiver(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a330876a206f28ea4b88f1ad528f7779c">mBTStateBroadcastReceiver</a>, <span class="keyword">new</span> IntentFilter(BluetoothAdapter.ACTION_STATE_CHANGED));</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="comment">//Text to speech code //</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#affbc9a646a9cc689be9245957b393dfc">textToSpeech</a> = <span class="keyword">new</span> TextToSpeech(getApplicationContext(), <span class="keyword">new</span> TextToSpeech.OnInitListener() {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                @Override</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                <span class="keyword">public</span> <span class="keywordtype">void</span> onInit(<span class="keywordtype">int</span> status) {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                    <span class="keywordflow">if</span> (status != TextToSpeech.ERROR)</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#affbc9a646a9cc689be9245957b393dfc">textToSpeech</a>.setLanguage(Locale.ENGLISH);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                    <span class="comment">// This bit of code handles mouth animation during TTS //</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                    <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#affbc9a646a9cc689be9245957b393dfc">textToSpeech</a>.setOnUtteranceProgressListener(<span class="keyword">new</span> UtteranceProgressListener() {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                        @Override</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                        <span class="keyword">public</span> <span class="keywordtype">void</span> onStart(String utteranceId) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                            UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0b765692527229f87cea82328946886a">mouthObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a4a78fb8a8c7130abd1ae5ba3955115cf">setSpeakingFunction</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7b4d85e6e3790c42a15fc014752f9b6e">startSpeaking</a>);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                        }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                        @Override</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                        <span class="keyword">public</span> <span class="keywordtype">void</span> onDone(String utteranceId) {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                            UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0b765692527229f87cea82328946886a">mouthObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a4a78fb8a8c7130abd1ae5ba3955115cf">setSpeakingFunction</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a2ac8e8483e533db8bb058b5df1308131">stopSpeaking</a>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                        }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                        @Override</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                        <span class="keyword">public</span> <span class="keywordtype">void</span> onError(String utteranceId) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                        }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                    });</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            });</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="comment">// Screen Control code //</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#acc096e5038ce1c3b4fafe35f01f8be56">mDevicePolicyManager</a> = (DevicePolicyManager)getSystemService(Context.DEVICE_POLICY_SERVICE);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="comment">// Ask the user to add a new device administrator to the system. //</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a5267e8b042ddf7b3bfe825aabd029e42">mComponentName</a> = <span class="keyword">new</span> ComponentName(<span class="keyword">this</span>, <a class="code" href="../../de/d03/classcom_1_1unity3d_1_1player_1_1_my_admin_receiver.html">MyAdminReceiver</a>.class);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        Intent intent = <span class="keyword">new</span> Intent(DevicePolicyManager.ACTION_ADD_DEVICE_ADMIN);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        intent.putExtra(DevicePolicyManager.EXTRA_DEVICE_ADMIN, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a5267e8b042ddf7b3bfe825aabd029e42">mComponentName</a>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        startActivityForResult(intent, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aab186d78a3876729c6a9059ceb37c0a2">ADMIN_INTENT</a>);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    @Override</div>
<div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a3639790525bf75acad773e5f173f0232">  396</a></span>&#160;    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a3639790525bf75acad773e5f173f0232">onDestroy</a>() {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a3ed23ff81ec15adc2f33698fd853d6e2">mUnityPlayer</a>.destroy();</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        super.onDestroy();</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="comment">// Unregistering broadcast listener to free up resources //</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        unregisterReceiver(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a330876a206f28ea4b88f1ad528f7779c">mBTStateBroadcastReceiver</a>);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        super.onDestroy();</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="comment">// Shutting down TextToSpeech //</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#affbc9a646a9cc689be9245957b393dfc">textToSpeech</a> != <span class="keyword">null</span>) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#affbc9a646a9cc689be9245957b393dfc">textToSpeech</a>.stop();</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#affbc9a646a9cc689be9245957b393dfc">textToSpeech</a>.shutdown();</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="comment">// Release MediaPlayer object //</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a99168c4df110f48d9c9c5bc3994514ac">voiceYourEmotion</a> != <span class="keyword">null</span>) <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a99168c4df110f48d9c9c5bc3994514ac">voiceYourEmotion</a>.release();</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="comment">// set volume to value it was at before app started //</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a770c710f5afbaac3c07ccb1ebd533774">audioManager</a>.setStreamVolume(AudioManager.STREAM_MUSIC, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7bdcabc988cf22272bbdfa5b38d928d4">savedVolume</a>, 0);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    @Override</div>
<div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ab85e759fd59a5e0ce59fda7d15400500">  423</a></span>&#160;    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ab85e759fd59a5e0ce59fda7d15400500">onPause</a>() {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        super.onPause();</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a3ed23ff81ec15adc2f33698fd853d6e2">mUnityPlayer</a>.pause();</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#affbc9a646a9cc689be9245957b393dfc">textToSpeech</a> != <span class="keyword">null</span>) {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#affbc9a646a9cc689be9245957b393dfc">textToSpeech</a>.stop();</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="comment">//set volume to value it was at before app started //</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a770c710f5afbaac3c07ccb1ebd533774">audioManager</a>.setStreamVolume(AudioManager.STREAM_MUSIC, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7bdcabc988cf22272bbdfa5b38d928d4">savedVolume</a>, 0);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="comment">// Stop MediaPlayer object //</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a99168c4df110f48d9c9c5bc3994514ac">voiceYourEmotion</a> != <span class="keyword">null</span>) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0b765692527229f87cea82328946886a">mouthObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a4a78fb8a8c7130abd1ae5ba3955115cf">setSpeakingFunction</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a2ac8e8483e533db8bb058b5df1308131">stopSpeaking</a>);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a99168c4df110f48d9c9c5bc3994514ac">voiceYourEmotion</a>.stop();</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    @Override</div>
<div class="line"><a name="l00444"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7c4cf9b10bf6ce875a8b399a1de74901">  444</a></span>&#160;    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7c4cf9b10bf6ce875a8b399a1de74901">onResume</a>() {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        super.onResume();</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a3ed23ff81ec15adc2f33698fd853d6e2">mUnityPlayer</a>.resume();</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="comment">// Volume to max //</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a770c710f5afbaac3c07ccb1ebd533774">audioManager</a>.setStreamVolume(AudioManager.STREAM_MUSIC, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a770c710f5afbaac3c07ccb1ebd533774">audioManager</a>.getStreamMaxVolume(AudioManager.STREAM_MUSIC), 0);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    @Override</div>
<div class="line"><a name="l00458"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0276d33305db3f3c6fab7c315f6a7fe4">  458</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0276d33305db3f3c6fab7c315f6a7fe4">onLowMemory</a>() {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        super.onLowMemory();</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a3ed23ff81ec15adc2f33698fd853d6e2">mUnityPlayer</a>.lowMemory();</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    }</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    @Override</div>
<div class="line"><a name="l00468"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aa22df05f3ea17325081fc6c52fad7d8f">  468</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aa22df05f3ea17325081fc6c52fad7d8f">onTrimMemory</a>(<span class="keywordtype">int</span> level) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        super.onTrimMemory(level);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordflow">if</span> (level == TRIM_MEMORY_RUNNING_CRITICAL) {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <span class="comment">// The device is running extremely low on memory. //</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            <span class="comment">// App is not yet considered a killable process, but the system will begin killing background processes if apps do not release resources. //</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <span class="comment">// Releasing non-critical resources now to prevent performance degradation. //</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a3ed23ff81ec15adc2f33698fd853d6e2">mUnityPlayer</a>.lowMemory();</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    @Override</div>
<div class="line"><a name="l00484"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a16cb54684661a77ec8e884b034ba7022">  484</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a16cb54684661a77ec8e884b034ba7022">onConfigurationChanged</a>(Configuration newConfig) {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        super.onConfigurationChanged(newConfig);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a3ed23ff81ec15adc2f33698fd853d6e2">mUnityPlayer</a>.configurationChanged(newConfig);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    @Override</div>
<div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a2dceabddf4e14057834f9260c211cad6">  493</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a2dceabddf4e14057834f9260c211cad6">onWindowFocusChanged</a>(<span class="keywordtype">boolean</span> hasFocus) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        super.onWindowFocusChanged(hasFocus);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a3ed23ff81ec15adc2f33698fd853d6e2">mUnityPlayer</a>.windowFocusChanged(hasFocus);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a2db61aa9ce6a4554164806ed3a4c7830">  506</a></span>&#160;    <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a2db61aa9ce6a4554164806ed3a4c7830">speakOut</a>(String[] messagePieces) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordtype">float</span> pitchValue = Float.parseFloat(messagePieces[2]);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#affbc9a646a9cc689be9245957b393dfc">textToSpeech</a>.setPitch(pitchValue);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#affbc9a646a9cc689be9245957b393dfc">textToSpeech</a>.setSpeechRate(0.7f);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        Log.d(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a287823c6f1d8b135a8b5cbc04fd3a083">TAG</a> + <span class="stringliteral">&quot; pitchValue:&quot;</span>, String.valueOf(pitchValue));</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        HashMap&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;String, String&gt;();</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        map.put(TextToSpeech.Engine.KEY_PARAM_UTTERANCE_ID, <span class="stringliteral">&quot;texToSpeech&quot;</span>);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#affbc9a646a9cc689be9245957b393dfc">textToSpeech</a>.speak(messagePieces[1], TextToSpeech.QUEUE_FLUSH, map);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a13d989633ede695af047209a4fcf025b">  529</a></span>&#160;    <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a13d989633ede695af047209a4fcf025b">setEmotion</a>(String emotionString) {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="comment">// Was an audio also requested //</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordtype">boolean</span> voiceYourEmotionInstruction = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="keywordflow">if</span>(emotionString.substring(emotionString.length() - 1).equals(<span class="stringliteral">&quot;V&quot;</span>)) {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            voiceYourEmotionInstruction = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            emotionString = emotionString.substring(0, emotionString.length() - 1);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="comment">// If audio already playing, stop it //</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a99168c4df110f48d9c9c5bc3994514ac">voiceYourEmotion</a>!=<span class="keyword">null</span>){</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a99168c4df110f48d9c9c5bc3994514ac">voiceYourEmotion</a>.stop();</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a99168c4df110f48d9c9c5bc3994514ac">voiceYourEmotion</a>.release();</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        }</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a99168c4df110f48d9c9c5bc3994514ac">voiceYourEmotion</a> = <span class="keyword">null</span>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="comment">// String to int conversion //</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="keywordtype">int</span> emotionInteger;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="keywordflow">switch</span> (emotionString.toUpperCase()) {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;HAPPY&quot;</span>:</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                emotionInteger = <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a40f9b69621939c0eeeefb08763aa86de">HAPPY</a>;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                <span class="keywordflow">if</span>(voiceYourEmotionInstruction) <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a99168c4df110f48d9c9c5bc3994514ac">voiceYourEmotion</a> = MediaPlayer.create(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html">UnityPlayerActivity</a>.this, R.raw.happy);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;SAD&quot;</span>:</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                emotionInteger = <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7f6bc11f0bf8da24213a0435c0f0d299">SAD</a>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                <span class="keywordflow">if</span>(voiceYourEmotionInstruction) <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a99168c4df110f48d9c9c5bc3994514ac">voiceYourEmotion</a> = MediaPlayer.create(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html">UnityPlayerActivity</a>.this, R.raw.sad);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;ANGRY&quot;</span>:</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                emotionInteger = <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a230a240b157247e591937b676576d316">ANGRY</a>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                <span class="keywordflow">if</span>(voiceYourEmotionInstruction) <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a99168c4df110f48d9c9c5bc3994514ac">voiceYourEmotion</a> = MediaPlayer.create(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html">UnityPlayerActivity</a>.this, R.raw.angry);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;SURPRISED&quot;</span>:</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                emotionInteger = <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7f0eb104c88cad225a0a0f44fda7ffd6">SURPRISED</a>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;IDLE&quot;</span>:</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                emotionInteger = <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a77b935d23f82d4926fb72da89754af96">IDLE</a>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                emotionInteger = 10;    <span class="comment">//because 10 isn&#39;t a registered emotion, nothing happens //</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <span class="comment">// This part talks to UNITY. Using the emotionInteger //</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <span class="comment">// The format is UnityPlayer.UnitySendMessage(unityObjectName, methodName, parameterToPass) //</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="comment">// All must be String values //</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        String <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ae1ddcee90e11f39eba71f5039b294dae">backgroundColor</a> = <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ae9e53a5c091b4fad34c0dfd657e5d531">emotionBackgroundColor</a>(emotionInteger);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a5a0f87155d60987c110dedfa52e09fb9">mainCameraObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ab10c47d821fa01216fd6d7079258eacb">changeBackgroundColorFunction</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ae1ddcee90e11f39eba71f5039b294dae">backgroundColor</a>);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordflow">switch</span> (emotionInteger) {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a40f9b69621939c0eeeefb08763aa86de">HAPPY</a>:</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a964827eba907ae967a2a0c6987fd0a85">eyebrowsObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a8e888d402f82fbb559167d205e7f49a4">setEmotionFunction</a>, <span class="stringliteral">&quot;HAPPY&quot;</span>);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0b765692527229f87cea82328946886a">mouthObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a8e888d402f82fbb559167d205e7f49a4">setEmotionFunction</a>, <span class="stringliteral">&quot;HAPPY&quot;</span>);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#afd7dbfbfcd3717fb638af797ef5597bc">tearObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a8e888d402f82fbb559167d205e7f49a4">setEmotionFunction</a>, <span class="stringliteral">&quot;HAPPY&quot;</span>);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7f6bc11f0bf8da24213a0435c0f0d299">SAD</a>:</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a964827eba907ae967a2a0c6987fd0a85">eyebrowsObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a8e888d402f82fbb559167d205e7f49a4">setEmotionFunction</a>, <span class="stringliteral">&quot;SAD&quot;</span>);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0b765692527229f87cea82328946886a">mouthObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a8e888d402f82fbb559167d205e7f49a4">setEmotionFunction</a>, <span class="stringliteral">&quot;SAD&quot;</span>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#afd7dbfbfcd3717fb638af797ef5597bc">tearObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a8e888d402f82fbb559167d205e7f49a4">setEmotionFunction</a>, <span class="stringliteral">&quot;SAD&quot;</span>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7f0eb104c88cad225a0a0f44fda7ffd6">SURPRISED</a>:</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a964827eba907ae967a2a0c6987fd0a85">eyebrowsObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a8e888d402f82fbb559167d205e7f49a4">setEmotionFunction</a>, <span class="stringliteral">&quot;SURPRISED&quot;</span>);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0b765692527229f87cea82328946886a">mouthObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a8e888d402f82fbb559167d205e7f49a4">setEmotionFunction</a>, <span class="stringliteral">&quot;SURPRISED&quot;</span>);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#afd7dbfbfcd3717fb638af797ef5597bc">tearObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a8e888d402f82fbb559167d205e7f49a4">setEmotionFunction</a>, <span class="stringliteral">&quot;SURPRISED&quot;</span>);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a230a240b157247e591937b676576d316">ANGRY</a>:</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a964827eba907ae967a2a0c6987fd0a85">eyebrowsObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a8e888d402f82fbb559167d205e7f49a4">setEmotionFunction</a>, <span class="stringliteral">&quot;ANGRY&quot;</span>);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0b765692527229f87cea82328946886a">mouthObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a8e888d402f82fbb559167d205e7f49a4">setEmotionFunction</a>, <span class="stringliteral">&quot;ANGRY&quot;</span>);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#afd7dbfbfcd3717fb638af797ef5597bc">tearObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a8e888d402f82fbb559167d205e7f49a4">setEmotionFunction</a>, <span class="stringliteral">&quot;ANGRY&quot;</span>);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a77b935d23f82d4926fb72da89754af96">IDLE</a>:</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a964827eba907ae967a2a0c6987fd0a85">eyebrowsObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a8e888d402f82fbb559167d205e7f49a4">setEmotionFunction</a>, <span class="stringliteral">&quot;IDLE&quot;</span>);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0b765692527229f87cea82328946886a">mouthObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a8e888d402f82fbb559167d205e7f49a4">setEmotionFunction</a>, <span class="stringliteral">&quot;IDLE&quot;</span>);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#afd7dbfbfcd3717fb638af797ef5597bc">tearObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a8e888d402f82fbb559167d205e7f49a4">setEmotionFunction</a>, <span class="stringliteral">&quot;IDLE&quot;</span>);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="comment">// This part makes the mouth move if speaking is happening //</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a99168c4df110f48d9c9c5bc3994514ac">voiceYourEmotion</a> != <span class="keyword">null</span>) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a99168c4df110f48d9c9c5bc3994514ac">voiceYourEmotion</a>.start();</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0b765692527229f87cea82328946886a">mouthObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a4a78fb8a8c7130abd1ae5ba3955115cf">setSpeakingFunction</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7b4d85e6e3790c42a15fc014752f9b6e">startSpeaking</a>);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a99168c4df110f48d9c9c5bc3994514ac">voiceYourEmotion</a>.setOnCompletionListener(<span class="keyword">new</span> MediaPlayer.OnCompletionListener() {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                @Override</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                <span class="keyword">public</span> <span class="keywordtype">void</span> onCompletion(MediaPlayer mediaPlayer) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                    <span class="comment">// This bit gets called back when audio is finished and mouth needs to stop moving //</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                    UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0b765692527229f87cea82328946886a">mouthObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a4a78fb8a8c7130abd1ae5ba3955115cf">setSpeakingFunction</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a2ac8e8483e533db8bb058b5df1308131">stopSpeaking</a>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            });</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        }</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ae1ddcee90e11f39eba71f5039b294dae">  621</a></span>&#160;    String <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ae1ddcee90e11f39eba71f5039b294dae">backgroundColor</a> = <span class="stringliteral">&quot;000000&quot;</span>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00628"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ae9e53a5c091b4fad34c0dfd657e5d531">  628</a></span>&#160;    <span class="keyword">private</span> String <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ae9e53a5c091b4fad34c0dfd657e5d531">emotionBackgroundColor</a>(<span class="keywordtype">int</span> emotion) {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="keywordflow">switch</span> (emotion) {</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a40f9b69621939c0eeeefb08763aa86de">HAPPY</a>:</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ae1ddcee90e11f39eba71f5039b294dae">backgroundColor</a> = <span class="stringliteral">&quot;FFB400&quot;</span>;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7f6bc11f0bf8da24213a0435c0f0d299">SAD</a>:</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ae1ddcee90e11f39eba71f5039b294dae">backgroundColor</a> = <span class="stringliteral">&quot;058548&quot;</span>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7f0eb104c88cad225a0a0f44fda7ffd6">SURPRISED</a>:</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ae1ddcee90e11f39eba71f5039b294dae">backgroundColor</a> = <span class="stringliteral">&quot;FFFFFF&quot;</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a230a240b157247e591937b676576d316">ANGRY</a>:</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ae1ddcee90e11f39eba71f5039b294dae">backgroundColor</a> = <span class="stringliteral">&quot;B60000&quot;</span>;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a77b935d23f82d4926fb72da89754af96">IDLE</a>:</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ae1ddcee90e11f39eba71f5039b294dae">backgroundColor</a> = <span class="stringliteral">&quot;878787&quot;</span>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ae1ddcee90e11f39eba71f5039b294dae">backgroundColor</a>);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    }</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a2a5497887597dfb529469102e8540d56">  654</a></span>&#160;    <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a2a5497887597dfb529469102e8540d56">beginConnection</a>() {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160; </div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="keywordtype">boolean</span> deviceFound = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        Set&lt;BluetoothDevice&gt; pairedDevices = <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a344435cf9e12a0dd394cfe2f4dc0cf7c">bluetoothAdapter</a>.getBondedDevices();</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="keywordflow">if</span> (pairedDevices.size() &gt; 0) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <span class="comment">// There are paired devices. Get the name and address of each paired device. //</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            <span class="keywordflow">for</span> (BluetoothDevice device : pairedDevices) {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                String deviceHardwareAddress = device.getAddress(); <span class="comment">// MAC address</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                <span class="keywordflow">if</span> (deviceHardwareAddress.equals(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a93ed58eff04a6adf674377330eaf17be">MAC_ADDRESS</a>)) {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                    <span class="comment">// This bit matches the MAC address of your &quot;face device&quot; to a paired device&#39;s //</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                    <span class="comment">// Then establishes a connection on a separate thread //</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                    deviceFound = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                    <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aee725bb7903693e910af2267bef831fe">myBluetoothService</a>.<a class="code" href="../../d3/d09/classcom_1_1unity3d_1_1player_1_1_my_bluetooth_service.html#a24290034e0c4dca145bf394ba6c0d23b">startClient</a>(device, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aa6939b848cf96ad7e7017024c9321907">MY_UUID</a>);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            <span class="keywordflow">if</span> (!deviceFound) {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                Toast.makeText(getBaseContext(), <span class="stringliteral">&quot;ERROR: Device with MAC address &quot;</span> + <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a93ed58eff04a6adf674377330eaf17be">MAC_ADDRESS</a> + <span class="stringliteral">&quot; not paired&quot;</span>, Toast.LENGTH_LONG).show();</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                this.finishAffinity();</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            Toast.makeText(getBaseContext(), <span class="stringliteral">&quot;ERROR:&quot;</span> + getString(R.string.NO_PAIRED_DEVICES), Toast.LENGTH_LONG).show();</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            this.finishAffinity();</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160; </div>
<div class="line"><a name="l00687"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#abd5e7ec399337eddf77a6b6d6ebfd09e">  687</a></span>&#160;    <span class="keyword">public</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#abd5e7ec399337eddf77a6b6d6ebfd09e">showToastMethod</a>(<span class="keyword">final</span> String message) {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="comment">//No idea how this works but what it does is run the Toast message called from another thread on the main thread</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        runOnUiThread(<span class="keyword">new</span> Runnable() {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            <span class="keyword">public</span> <span class="keywordtype">void</span> run() {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                Toast.makeText(getBaseContext(), message, Toast.LENGTH_SHORT).show();</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        });</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aacd89df66980b8a922259b25d5d90c64">  703</a></span>&#160;    <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aacd89df66980b8a922259b25d5d90c64">settingsUpdate</a>(String[] messagePieces) {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="comment">// Will change these to different letters later //</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <span class="keywordflow">switch</span> (messagePieces[1].toUpperCase()) {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;POKE&quot;</span>:</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                <span class="keywordflow">switch</span> (messagePieces[2]) {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                    <span class="keywordflow">case</span> <span class="stringliteral">&quot;DISABLE&quot;</span>:</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                        UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a4ab3905a4405844b85745da151d5d7f4">ouchZoneObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a19a2f0534f23f7bc4e0d1650a03f45a7">setEyePokeEnabledStateFunction</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a6deebdaf2c855dc80645925d33d2297f">falseString</a>);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                    <span class="keywordflow">case</span> <span class="stringliteral">&quot;ENABLE&quot;</span>:</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                        UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a4ab3905a4405844b85745da151d5d7f4">ouchZoneObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a19a2f0534f23f7bc4e0d1650a03f45a7">setEyePokeEnabledStateFunction</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a489722a0525ae39de603e29cf96af810">trueString</a>);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            <span class="keywordflow">case</span> <span class="stringliteral">&quot;SLEEP&quot;</span>:</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                <span class="comment">// run the sleepy animation //</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                UnityPlayer.UnitySendMessage(<a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a27bbdfccaee8804415d9e4a0c9071097">eyelidsObject</a>, <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ab4a2c10dcdeeb594a91175861060e515">goToSleepFunction</a>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                <span class="comment">// delay a little bit //</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a5983ed25682f0442f85374d058e17c91">handler</a>.postDelayed(<span class="keyword">new</span> Runnable() {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                    @Override</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                    <span class="keyword">public</span> <span class="keywordtype">void</span> run() {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                        <span class="comment">// turn the device off //</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#acc096e5038ce1c3b4fafe35f01f8be56">mDevicePolicyManager</a>.lockNow();</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                    }</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                }, 2500);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        }</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    }</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    @Override</div>
<div class="line"><a name="l00744"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#af414ecf9761b45ea52e11511eee38c29">  744</a></span>&#160;    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#af414ecf9761b45ea52e11511eee38c29">onActivityResult</a>(<span class="keywordtype">int</span> requestCode, <span class="keywordtype">int</span> resultCode, @Nullable Intent data) {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <span class="keywordflow">if</span> (requestCode == <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a55410ee715b12a7cc28521741fbf3877">REQUEST_ENABLE_BT</a> &amp;&amp; resultCode == RESULT_OK) {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a2a5497887597dfb529469102e8540d56">beginConnection</a>();</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        <span class="keywordflow">if</span> (resultCode == RESULT_CANCELED)</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            Toast.makeText(<span class="keyword">this</span>, <span class="stringliteral">&quot;Unable to access Bluetooth&quot;</span>, Toast.LENGTH_SHORT).show();</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0eacc77cf5b98db5eddf19e7d1d8cf97">  763</a></span>&#160;    <span class="keyword">protected</span> String <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0eacc77cf5b98db5eddf19e7d1d8cf97">updateUnityCommandLineArguments</a>(String cmdLine) {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <span class="keywordflow">return</span> cmdLine;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    @Override</div>
<div class="line"><a name="l00778"></a><span class="lineno"><a class="line" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aebeee3f9da02f1c5c68d5f1c286c9d66">  778</a></span>&#160;    <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aebeee3f9da02f1c5c68d5f1c286c9d66">onNewIntent</a>(Intent intent) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        setIntent(intent);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <a class="code" href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a3ed23ff81ec15adc2f33698fd853d6e2">mUnityPlayer</a>.newIntent(intent);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_aa22df05f3ea17325081fc6c52fad7d8f"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aa22df05f3ea17325081fc6c52fad7d8f">com.unity3d.player.UnityPlayerActivity.onTrimMemory</a></div><div class="ttdeci">void onTrimMemory(int level)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00468">UnityPlayerActivity.java:468</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_af414ecf9761b45ea52e11511eee38c29"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#af414ecf9761b45ea52e11511eee38c29">com.unity3d.player.UnityPlayerActivity.onActivityResult</a></div><div class="ttdeci">void onActivityResult(int requestCode, int resultCode, @Nullable Intent data)</div><div class="ttdoc">Called back after focus is returned from process started by startActivityForResult()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00744">UnityPlayerActivity.java:744</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a4ab3905a4405844b85745da151d5d7f4"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a4ab3905a4405844b85745da151d5d7f4">com.unity3d.player.UnityPlayerActivity.ouchZoneObject</a></div><div class="ttdeci">String ouchZoneObject</div><div class="ttdoc">References Unity object.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00185">UnityPlayerActivity.java:185</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a93ed58eff04a6adf674377330eaf17be"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a93ed58eff04a6adf674377330eaf17be">com.unity3d.player.UnityPlayerActivity.MAC_ADDRESS</a></div><div class="ttdeci">String MAC_ADDRESS</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00122">UnityPlayerActivity.java:122</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_afd7dbfbfcd3717fb638af797ef5597bc"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#afd7dbfbfcd3717fb638af797ef5597bc">com.unity3d.player.UnityPlayerActivity.tearObject</a></div><div class="ttdeci">String tearObject</div><div class="ttdoc">References Unity object.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00185">UnityPlayerActivity.java:185</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_abd5e7ec399337eddf77a6b6d6ebfd09e"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#abd5e7ec399337eddf77a6b6d6ebfd09e">com.unity3d.player.UnityPlayerActivity.showToastMethod</a></div><div class="ttdeci">void showToastMethod(final String message)</div><div class="ttdoc">Toasts for threads other than the main.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00687">UnityPlayerActivity.java:687</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a0eacc77cf5b98db5eddf19e7d1d8cf97"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0eacc77cf5b98db5eddf19e7d1d8cf97">com.unity3d.player.UnityPlayerActivity.updateUnityCommandLineArguments</a></div><div class="ttdeci">String updateUnityCommandLineArguments(String cmdLine)</div><div class="ttdoc">Created when exporting from Unity.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00763">UnityPlayerActivity.java:763</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_ab10c47d821fa01216fd6d7079258eacb"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ab10c47d821fa01216fd6d7079258eacb">com.unity3d.player.UnityPlayerActivity.changeBackgroundColorFunction</a></div><div class="ttdeci">String changeBackgroundColorFunction</div><div class="ttdoc">Represents Unity object.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00186">UnityPlayerActivity.java:186</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a77b935d23f82d4926fb72da89754af96"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a77b935d23f82d4926fb72da89754af96">com.unity3d.player.UnityPlayerActivity.IDLE</a></div><div class="ttdeci">final int IDLE</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00073">UnityPlayerActivity.java:73</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a55410ee715b12a7cc28521741fbf3877"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a55410ee715b12a7cc28521741fbf3877">com.unity3d.player.UnityPlayerActivity.REQUEST_ENABLE_BT</a></div><div class="ttdeci">int REQUEST_ENABLE_BT</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00207">UnityPlayerActivity.java:207</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_affbc9a646a9cc689be9245957b393dfc"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#affbc9a646a9cc689be9245957b393dfc">com.unity3d.player.UnityPlayerActivity.textToSpeech</a></div><div class="ttdeci">TextToSpeech textToSpeech</div><div class="ttdoc">For text to speech functionality.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00196">UnityPlayerActivity.java:196</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a7f6bc11f0bf8da24213a0435c0f0d299"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7f6bc11f0bf8da24213a0435c0f0d299">com.unity3d.player.UnityPlayerActivity.SAD</a></div><div class="ttdeci">final int SAD</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00073">UnityPlayerActivity.java:73</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a7f0eb104c88cad225a0a0f44fda7ffd6"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7f0eb104c88cad225a0a0f44fda7ffd6">com.unity3d.player.UnityPlayerActivity.SURPRISED</a></div><div class="ttdeci">final int SURPRISED</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00073">UnityPlayerActivity.java:73</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a230a240b157247e591937b676576d316"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a230a240b157247e591937b676576d316">com.unity3d.player.UnityPlayerActivity.ANGRY</a></div><div class="ttdeci">final int ANGRY</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00073">UnityPlayerActivity.java:73</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a99168c4df110f48d9c9c5bc3994514ac"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a99168c4df110f48d9c9c5bc3994514ac">com.unity3d.player.UnityPlayerActivity.voiceYourEmotion</a></div><div class="ttdeci">MediaPlayer voiceYourEmotion</div><div class="ttdoc">Media Player for running audio files that &quot;voice emotion&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00117">UnityPlayerActivity.java:117</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a5a0f87155d60987c110dedfa52e09fb9"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a5a0f87155d60987c110dedfa52e09fb9">com.unity3d.player.UnityPlayerActivity.mainCameraObject</a></div><div class="ttdeci">String mainCameraObject</div><div class="ttdoc">References Unity object.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00185">UnityPlayerActivity.java:185</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_aab186d78a3876729c6a9059ceb37c0a2"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aab186d78a3876729c6a9059ceb37c0a2">com.unity3d.player.UnityPlayerActivity.ADMIN_INTENT</a></div><div class="ttdeci">static final int ADMIN_INTENT</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00231">UnityPlayerActivity.java:231</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a489722a0525ae39de603e29cf96af810"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a489722a0525ae39de603e29cf96af810">com.unity3d.player.UnityPlayerActivity.trueString</a></div><div class="ttdeci">String trueString</div><div class="ttdoc">Unity parameter.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00188">UnityPlayerActivity.java:188</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a7c4cf9b10bf6ce875a8b399a1de74901"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7c4cf9b10bf6ce875a8b399a1de74901">com.unity3d.player.UnityPlayerActivity.onResume</a></div><div class="ttdeci">void onResume()</div><div class="ttdoc">Resume Unity.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00444">UnityPlayerActivity.java:444</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a2a5497887597dfb529469102e8540d56"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a2a5497887597dfb529469102e8540d56">com.unity3d.player.UnityPlayerActivity.beginConnection</a></div><div class="ttdeci">void beginConnection()</div><div class="ttdoc">Establishes a Bluetooth serial communication.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00654">UnityPlayerActivity.java:654</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a8e888d402f82fbb559167d205e7f49a4"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a8e888d402f82fbb559167d205e7f49a4">com.unity3d.player.UnityPlayerActivity.setEmotionFunction</a></div><div class="ttdeci">String setEmotionFunction</div><div class="ttdoc">Represents Unity object.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00186">UnityPlayerActivity.java:186</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a27bbdfccaee8804415d9e4a0c9071097"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a27bbdfccaee8804415d9e4a0c9071097">com.unity3d.player.UnityPlayerActivity.eyelidsObject</a></div><div class="ttdeci">String eyelidsObject</div><div class="ttdoc">References Unity object.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00185">UnityPlayerActivity.java:185</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a287823c6f1d8b135a8b5cbc04fd3a083"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a287823c6f1d8b135a8b5cbc04fd3a083">com.unity3d.player.UnityPlayerActivity.TAG</a></div><div class="ttdeci">static String TAG</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00071">UnityPlayerActivity.java:71</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a19a2f0534f23f7bc4e0d1650a03f45a7"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a19a2f0534f23f7bc4e0d1650a03f45a7">com.unity3d.player.UnityPlayerActivity.setEyePokeEnabledStateFunction</a></div><div class="ttdeci">String setEyePokeEnabledStateFunction</div><div class="ttdoc">Represents Unity object.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00186">UnityPlayerActivity.java:186</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_acc096e5038ce1c3b4fafe35f01f8be56"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#acc096e5038ce1c3b4fafe35f01f8be56">com.unity3d.player.UnityPlayerActivity.mDevicePolicyManager</a></div><div class="ttdeci">DevicePolicyManager mDevicePolicyManager</div><div class="ttdoc">Public interface for managing policies enforced on a device.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00226">UnityPlayerActivity.java:226</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a40f9b69621939c0eeeefb08763aa86de"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a40f9b69621939c0eeeefb08763aa86de">com.unity3d.player.UnityPlayerActivity.HAPPY</a></div><div class="ttdeci">final int HAPPY</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00073">UnityPlayerActivity.java:73</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_ae1ddcee90e11f39eba71f5039b294dae"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ae1ddcee90e11f39eba71f5039b294dae">com.unity3d.player.UnityPlayerActivity.backgroundColor</a></div><div class="ttdeci">String backgroundColor</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00621">UnityPlayerActivity.java:621</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_my_bluetooth_service_html_a24290034e0c4dca145bf394ba6c0d23b"><div class="ttname"><a href="../../d3/d09/classcom_1_1unity3d_1_1player_1_1_my_bluetooth_service.html#a24290034e0c4dca145bf394ba6c0d23b">com.unity3d.player.MyBluetoothService.startClient</a></div><div class="ttdeci">void startClient(BluetoothDevice device, UUID uuid)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dc9/_my_bluetooth_service_8java_source.html#l00110">MyBluetoothService.java:110</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a2dceabddf4e14057834f9260c211cad6"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a2dceabddf4e14057834f9260c211cad6">com.unity3d.player.UnityPlayerActivity.onWindowFocusChanged</a></div><div class="ttdeci">void onWindowFocusChanged(boolean hasFocus)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00493">UnityPlayerActivity.java:493</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_aacd89df66980b8a922259b25d5d90c64"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aacd89df66980b8a922259b25d5d90c64">com.unity3d.player.UnityPlayerActivity.settingsUpdate</a></div><div class="ttdeci">void settingsUpdate(String[] messagePieces)</div><div class="ttdoc">Poke enable/disable and turn off tab.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00703">UnityPlayerActivity.java:703</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_ab4a2c10dcdeeb594a91175861060e515"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ab4a2c10dcdeeb594a91175861060e515">com.unity3d.player.UnityPlayerActivity.goToSleepFunction</a></div><div class="ttdeci">String goToSleepFunction</div><div class="ttdoc">Represents Unity object.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00186">UnityPlayerActivity.java:186</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a1c5528d35abc854e3ea61c04f3187af2"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a1c5528d35abc854e3ea61c04f3187af2">com.unity3d.player.UnityPlayerActivity.TESTING</a></div><div class="ttdeci">final boolean TESTING</div><div class="ttdoc">Debugging tool.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00050">UnityPlayerActivity.java:50</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_aa6939b848cf96ad7e7017024c9321907"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aa6939b848cf96ad7e7017024c9321907">com.unity3d.player.UnityPlayerActivity.MY_UUID</a></div><div class="ttdeci">static final UUID MY_UUID</div><div class="ttdoc">Universally Unique Identifier (UUID)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00060">UnityPlayerActivity.java:60</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_my_admin_receiver_html"><div class="ttname"><a href="../../de/d03/classcom_1_1unity3d_1_1player_1_1_my_admin_receiver.html">com.unity3d.player.MyAdminReceiver</a></div><div class="ttdoc">This allows the app to turn off the device.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/_my_admin_receiver_8java_source.html#l00023">MyAdminReceiver.java:23</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_aee725bb7903693e910af2267bef831fe"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aee725bb7903693e910af2267bef831fe">com.unity3d.player.UnityPlayerActivity.myBluetoothService</a></div><div class="ttdeci">static MyBluetoothService myBluetoothService</div><div class="ttdoc">Handles Bluetooth stuff.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00066">UnityPlayerActivity.java:66</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a0276d33305db3f3c6fab7c315f6a7fe4"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0276d33305db3f3c6fab7c315f6a7fe4">com.unity3d.player.UnityPlayerActivity.onLowMemory</a></div><div class="ttdeci">void onLowMemory()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00458">UnityPlayerActivity.java:458</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a2ac8e8483e533db8bb058b5df1308131"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a2ac8e8483e533db8bb058b5df1308131">com.unity3d.player.UnityPlayerActivity.stopSpeaking</a></div><div class="ttdeci">String stopSpeaking</div><div class="ttdoc">Unity parameter.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00187">UnityPlayerActivity.java:187</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a770c710f5afbaac3c07ccb1ebd533774"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a770c710f5afbaac3c07ccb1ebd533774">com.unity3d.player.UnityPlayerActivity.audioManager</a></div><div class="ttdeci">AudioManager audioManager</div><div class="ttdoc">Manages the volume when the app is running.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00213">UnityPlayerActivity.java:213</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a3639790525bf75acad773e5f173f0232"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a3639790525bf75acad773e5f173f0232">com.unity3d.player.UnityPlayerActivity.onDestroy</a></div><div class="ttdeci">void onDestroy()</div><div class="ttdoc">The final call you receive before your activity is destroyed.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00396">UnityPlayerActivity.java:396</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_my_bluetooth_service_html"><div class="ttname"><a href="../../d3/d09/classcom_1_1unity3d_1_1player_1_1_my_bluetooth_service.html">com.unity3d.player.MyBluetoothService</a></div><div class="ttdoc">Handles everything Bluetooth.</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dc9/_my_bluetooth_service_8java_source.html#l00032">MyBluetoothService.java:32</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a3ed23ff81ec15adc2f33698fd853d6e2"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a3ed23ff81ec15adc2f33698fd853d6e2">com.unity3d.player.UnityPlayerActivity.mUnityPlayer</a></div><div class="ttdeci">UnityPlayer mUnityPlayer</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00111">UnityPlayerActivity.java:111</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_aebeee3f9da02f1c5c68d5f1c286c9d66"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#aebeee3f9da02f1c5c68d5f1c286c9d66">com.unity3d.player.UnityPlayerActivity.onNewIntent</a></div><div class="ttdeci">void onNewIntent(Intent intent)</div><div class="ttdoc">Created when exporting from Unity.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00778">UnityPlayerActivity.java:778</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html">com.unity3d.player.UnityPlayerActivity</a></div><div class="ttdoc">This is where everything important happens.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00042">UnityPlayerActivity.java:42</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a0b765692527229f87cea82328946886a"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a0b765692527229f87cea82328946886a">com.unity3d.player.UnityPlayerActivity.mouthObject</a></div><div class="ttdeci">String mouthObject</div><div class="ttdoc">References Unity object.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00185">UnityPlayerActivity.java:185</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a6deebdaf2c855dc80645925d33d2297f"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a6deebdaf2c855dc80645925d33d2297f">com.unity3d.player.UnityPlayerActivity.falseString</a></div><div class="ttdeci">String falseString</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00188">UnityPlayerActivity.java:188</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a344435cf9e12a0dd394cfe2f4dc0cf7c"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a344435cf9e12a0dd394cfe2f4dc0cf7c">com.unity3d.player.UnityPlayerActivity.bluetoothAdapter</a></div><div class="ttdeci">BluetoothAdapter bluetoothAdapter</div><div class="ttdoc">A BluetoothAdapter object.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00202">UnityPlayerActivity.java:202</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a964827eba907ae967a2a0c6987fd0a85"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a964827eba907ae967a2a0c6987fd0a85">com.unity3d.player.UnityPlayerActivity.eyebrowsObject</a></div><div class="ttdeci">String eyebrowsObject</div><div class="ttdoc">References Unity object.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00185">UnityPlayerActivity.java:185</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a13d989633ede695af047209a4fcf025b"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a13d989633ede695af047209a4fcf025b">com.unity3d.player.UnityPlayerActivity.setEmotion</a></div><div class="ttdeci">void setEmotion(String emotionString)</div><div class="ttdoc">Emotion control code.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00529">UnityPlayerActivity.java:529</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a5983ed25682f0442f85374d058e17c91"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a5983ed25682f0442f85374d058e17c91">com.unity3d.player.UnityPlayerActivity.handler</a></div><div class="ttdeci">final Handler handler</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00241">UnityPlayerActivity.java:241</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a5267e8b042ddf7b3bfe825aabd029e42"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a5267e8b042ddf7b3bfe825aabd029e42">com.unity3d.player.UnityPlayerActivity.mComponentName</a></div><div class="ttdeci">ComponentName mComponentName</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00236">UnityPlayerActivity.java:236</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a7699c410099a789507c71d8b0613257b"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7699c410099a789507c71d8b0613257b">com.unity3d.player.UnityPlayerActivity.onCreate</a></div><div class="ttdeci">void onCreate(Bundle savedInstanceState)</div><div class="ttdoc">fires when the system first creates the activity.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00249">UnityPlayerActivity.java:249</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a7bdcabc988cf22272bbdfa5b38d928d4"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7bdcabc988cf22272bbdfa5b38d928d4">com.unity3d.player.UnityPlayerActivity.savedVolume</a></div><div class="ttdeci">int savedVolume</div><div class="ttdoc">Saves the current volume setting of the device.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00219">UnityPlayerActivity.java:219</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a2db61aa9ce6a4554164806ed3a4c7830"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a2db61aa9ce6a4554164806ed3a4c7830">com.unity3d.player.UnityPlayerActivity.speakOut</a></div><div class="ttdeci">void speakOut(String[] messagePieces)</div><div class="ttdoc">Text to speech code.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00506">UnityPlayerActivity.java:506</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_ab85e759fd59a5e0ce59fda7d15400500"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ab85e759fd59a5e0ce59fda7d15400500">com.unity3d.player.UnityPlayerActivity.onPause</a></div><div class="ttdeci">void onPause()</div><div class="ttdoc">Pause Unity.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00423">UnityPlayerActivity.java:423</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a330876a206f28ea4b88f1ad528f7779c"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a330876a206f28ea4b88f1ad528f7779c">com.unity3d.player.UnityPlayerActivity.mBTStateBroadcastReceiver</a></div><div class="ttdeci">final BroadcastReceiver mBTStateBroadcastReceiver</div><div class="ttdoc">a BroadcastReceiver type object</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00081">UnityPlayerActivity.java:81</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a7b4d85e6e3790c42a15fc014752f9b6e"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a7b4d85e6e3790c42a15fc014752f9b6e">com.unity3d.player.UnityPlayerActivity.startSpeaking</a></div><div class="ttdeci">String startSpeaking</div><div class="ttdoc">Unity parameter.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00187">UnityPlayerActivity.java:187</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a4a78fb8a8c7130abd1ae5ba3955115cf"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a4a78fb8a8c7130abd1ae5ba3955115cf">com.unity3d.player.UnityPlayerActivity.setSpeakingFunction</a></div><div class="ttdeci">String setSpeakingFunction</div><div class="ttdoc">Represents Unity object.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00186">UnityPlayerActivity.java:186</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_ae9e53a5c091b4fad34c0dfd657e5d531"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#ae9e53a5c091b4fad34c0dfd657e5d531">com.unity3d.player.UnityPlayerActivity.emotionBackgroundColor</a></div><div class="ttdeci">String emotionBackgroundColor(int emotion)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00628">UnityPlayerActivity.java:628</a></div></div>
<div class="ttc" id="aclasscom_1_1unity3d_1_1player_1_1_unity_player_activity_html_a16cb54684661a77ec8e884b034ba7022"><div class="ttname"><a href="../../db/d54/classcom_1_1unity3d_1_1player_1_1_unity_player_activity.html#a16cb54684661a77ec8e884b034ba7022">com.unity3d.player.UnityPlayerActivity.onConfigurationChanged</a></div><div class="ttdeci">void onConfigurationChanged(Configuration newConfig)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dc5/_unity_player_activity_8java_source.html#l00484">UnityPlayerActivity.java:484</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_e4cee76dcadb858b751b4288a333265a.html">unityLibrary</a></li><li class="navelem"><a class="el" href="../../dir_20c1bec3884431686d13b072434a77b1.html">src</a></li><li class="navelem"><a class="el" href="../../dir_3b41afefefa841d32655357100333f44.html">main</a></li><li class="navelem"><a class="el" href="../../dir_aae4ce75d864a9131eb33cd2aa3d36ef.html">java</a></li><li class="navelem"><a class="el" href="../../dir_fd48fd9bb33924a65f7d51e2a82b2874.html">com</a></li><li class="navelem"><a class="el" href="../../dir_9c0390cfe841eae1501f5a4b2003e714.html">unity3d</a></li><li class="navelem"><a class="el" href="../../dir_7debc2235323a928ecc214bf98ccf31f.html">player</a></li><li class="navelem"><a class="el" href="../../db/dc5/_unity_player_activity_8java.html">UnityPlayerActivity.java</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
